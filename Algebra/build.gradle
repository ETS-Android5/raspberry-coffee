buildscript {
  ext.shadowVersion='5.0.0'
  repositories {
    mavenCentral()
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'com.github.johnrengelman.shadow'

shadowJar {
  zip64 true
}

group = 'oliv.raspi.coffee'
version = '1.0'

repositories {
  mavenCentral()
  mavenLocal()
//  maven { url "https://oss.sonatype.org/content/groups/public" }
}

compileJava.options.compilerArgs += ["-Xlint:unchecked"]  // ["-Xlint:none"]

dependencies {
//  compile project(':http-tiny-server')
  testCompile group: 'junit', name: 'junit', version: '4.13'
}

task runSample(type: JavaExec, dependsOn: build, description: "Simple sample, Swing UI") {
//  environment "DISPLAY", ":0.0"
//  environment "DISPLAY", "192.168.42.31:0.0"
//  classpath = configurations.runtime
//  classpath project.configurations.default
//  classpath sourceSets.main.output.classesDir
  classpath sourceSets.test.runtimeClasspath
  main = 'gsg.examples.box3d.Sample01'
  workingDir "."
}

task runSpringSample(type: JavaExec, dependsOn: build, description: "Simple sample, Swing UI") {
//  environment "DISPLAY", ":0.0"
  environment "DISPLAY", "192.168.42.31:0.0"
//  classpath = configurations.runtime
//  classpath project.configurations.default
//  classpath sourceSets.main.output.classesDir
  classpath sourceSets.test.runtimeClasspath
  main = 'gsg.examples.box3d.Sample07'
  workingDir "."
}
