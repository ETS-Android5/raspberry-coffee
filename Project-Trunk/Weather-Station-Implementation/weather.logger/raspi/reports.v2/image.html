<!DOCTYPE html>
<html>
  <head>
    <title>Adafruit IO with custom UI</title>
    <script type="text/javascript" src="jquery-2.1.3.js"></script>
    <script type="text/javascript" src="fetchimage.js"></script>
    <link rel="stylesheet" href="css/stylesheet.css" type="text/css"/>
  </head>
  <body style="color: lightgray; background-color: black; font-weight: normal; font-size: 12px; ">
    <h2>Adafruit IO, with jQuery</h2>
    <small>JQuery, Ajax, REST, JSON..., a simple example to read an <i>image</i> feed.</small>
    <p>
      <i>We query the value of a feed named <code>picture</code>.</i>
    </p>
    <p>
      Your Adafruit-IO key : <input type="text" size="40" id="a-key" placeholder="Your Adafruit-IO Key" style="font-family: monospace;">
      <br/>
      <small><span id="mess"></span></small>
    </p>
    <div id="data" style="display: none;">
      <hr>
      <button onclick="refreshImg();" id="button">Refresh image</button> every <input type="text" size="10" id="ref-rate" placeholder="Seconds" style="font-family: monospace; text-align: right;"> second(s)
      &nbsp;&nbsp;<span id="spinner" style="width: 24px; height: 24px; display: inline-block; overflow: hidden;"></span>&nbsp;&nbsp;Updated&nbsp;<span id="updated"></span>
      <hr>
      <p align="center">
        <img id="img-value" src="" style="border: 3px solid silver; border-radius: 5px;">
      </p>
    </div>
    <hr/>
    <address>Oliv fecit, AD 2018.</address>
    <script type="text/javascript">
      window.onload = function() {
	      /* global getQSPrm, $ */
				var key = getQSPrm('key');
				if (key !== null && key !== undefined) {
					$("#a-key").val(key);
				}
      };
    </script>
  </body>
</html>
